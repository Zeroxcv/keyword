<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="robots" content="all,follow">
    <!-- Bootstrap CSS-->
    <link rel="stylesheet" th:href="@{/vendor/bootstrap/css/bootstrap.min.css}" >
    <!-- Font Awesome CSS-->
    <link rel="stylesheet" th:href="@{/vendor/font-awesome/css/font-awesome.min.css}">
    <!-- Fontastic Custom icon font-->
    <link rel="stylesheet" th:href="@{/css/fontastic.css}">
    <!-- theme stylesheet-->
    <link rel="stylesheet" th:href="@{/css/style.default.css}" id="theme-stylesheet">
    <!-- Custom stylesheet - for your changes-->
    <link rel="stylesheet" th:href="@{/css/custom.css}">
    <!-- Favicon-->
    <link rel="shortcut icon" th:href="@{/img/favicon.ico}">
    <link rel="stylesheet" th:href="@{/css/index.css}">
    <!-- Tweaks for older IEs--><!--[if lt IE 9]>
    <script th:src="@{https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js}"></script>
    <script th:src="@{https://oss.maxcdn.com/respond/1.4.2/respond.min.js}"></script><![endif]-->
    <script th:src="@{https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js}">
    </script>
    <script>
        $(document).ready(function(){
            $("#b1").click(function(){
                var textContent = document.getElementById("t1").value;
                alert(textContent);
                $.post("/index/keyword",{
                        url:"localhost:8080",
                        text:textContent
                    },
                    function(data,status){
                        alert("数据: \n" + data + "\n状态: " + status);
                        var tableInfos = document.getElementById('tableInfo1');
                        var jsonobj= eval('(' + data + ')');
                        var code = '<TABLE class="table table-striped">';
                        code += '<TR><TH>关键词</TH><TH>权重</TH></TR>';
                        for(var i=0;i<jsonobj.length;i++){

                            code += '<TR><TD>'+jsonobj[i].word+'</TD><TD>'+jsonobj[i].score+'</TD></TR>';
                        }
                        tableInfos.innerHTML = code + '</TABLE>';
                    });
            });

            $("#b2").click(function(){
                $.get("/index/essaylist/1",function(data,status){
                    alert("数据: \n" + data + "\n状态: " + status);
                    var tableInfos = document.getElementById('tableInfo1');
                    var jsonobj= eval('(' + data + ')');
                    var code = '<TABLE class="table table-striped">';
                    code += '<TR>' +
                        '<TH>关键词</TH>' +
                        '<TH>权重</TH>' +
                        '</TR>';
                    for(var i=0;i<jsonobj.length;i++){

                        code += '<TR><TD>'+jsonobj[i].word+'</TD><TD>'+jsonobj[i].score+'</TD></TR>';
                    }
                    tableInfos.innerHTML = code + '</TABLE>';
                });
            });
        });
    </script>

    <title>用户列表</title>
</head>

<body>
<div class="page">
    <div class="content-inner" style="padding-bottom: 78.4px">
        <header class="page-header">
            <div class="container-fluid">
                <h2 class="no-margin-bottom">提取关键词</h2>
            </div>
        </header>
        <div style="padding: 10px 10px 10px 10px">
            <div style="padding: 10px 10px 10px 10px">
                <textarea class="form-control" rows="8" id="t1" ></textarea>
            </div>
            <div style="padding: 10px 10px 10px 10px;">
                <button  class="btn btn-primary btn-lg" id="b1" style="text-align:center;margin-left: 50%;margin-right: 50%">提取</button>
            </div>
            <div id="tableInfo1" class="table table-striped">
            </div>
            <button  class="btn btn-primary btn-lg" id="b2">搜索</button>
            <div id="tableInfo2" >
                <form >

                </form>
            </div>
        </div>
    </div>

</div>
</body>
</html>